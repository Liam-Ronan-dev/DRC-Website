---
import DRCLogo from '../images/DRCLogo.svg';
import Link from './Link.astro';

const navItems = [
  { text: 'About', target: '/about' },
  { text: 'Services', target: '/services' },
  { text: 'Projects', target: '/projects' },
  { text: 'Contact', target: '/contact' },
];
---

<header class="fixed top-0 left-0 z-50 w-full bg-black/30 backdrop-blur-md">
  <nav class="mx-auto flex w-[92%] max-w-7xl items-center justify-between">
    <!-- Logo -->
    <a href="/" aria-label="Go to homepage">
      <DRCLogo class="h-auto w-50" />
    </a>

    <!-- Toggle -->
    <input id="menu-toggle" type="checkbox" class="peer hidden" />

    <label
      for="menu-toggle"
      class="relative z-50 flex h-10 w-10 cursor-pointer flex-col items-center justify-center gap-1.5 lg:hidden
      peer-checked:[&>span:nth-child(1)]:translate-y-2
      peer-checked:[&>span:nth-child(1)]:rotate-45
      peer-checked:[&>span:nth-child(2)]:opacity-0
      peer-checked:[&>span:nth-child(3)]:-translate-y-2
      peer-checked:[&>span:nth-child(3)]:-rotate-45"
    >
      <span class="block h-0.5 w-6 bg-white transition-all duration-300"></span>
      <span class="block h-0.5 w-6 bg-white transition-all duration-300"></span>
      <span class="block h-0.5 w-6 bg-white transition-all duration-300"></span>
    </label>

    <!-- Mobile Menu -->
    <div
      class="pointer-events-none fixed inset-0 z-40 flex h-screen w-full translate-y-80 flex-col items-center justify-center gap-10 bg-black text-white opacity-0 transition-all duration-500 ease-in-out peer-checked:pointer-events-auto peer-checked:translate-y-0 peer-checked:opacity-100 lg:hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="mobile-menu"
    >
      <ul id="mobile-menu" class="flex flex-col items-center gap-8 text-2xl">
        {
          navItems.map((item) => (
            <li>
              <Link text={item.text} target={item.target} />
            </li>
          ))
        }
      </ul>

      <a href="tel:+353861961315" class="bg-[#1e67ce] px-6 py-3 text-xl font-semibold text-white">
        Call Now
      </a>
    </div>

    <!-- Desktop Menu -->
    <div class="hidden w-full items-center justify-between lg:flex">
      <ul class="mx-auto flex gap-[4vw] text-white">
        {
          navItems.map((item) => (
            <li>
              <Link text={item.text} target={item.target} />
            </li>
          ))
        }
      </ul>

      <a href="tel:+0861961315" class="bg-[#1e67ce] px-6 py-3 text-base font-semibold text-white">
        Call Now
      </a>
    </div>
  </nav>
</header>
